language: python

python:
  - 3.6

cache: pip

services:
  - docker

before_install:
  - echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin

install:
  - pip install -U codecov
  - pip install -r requirements.txt

script:
  - bash tests/test-with-compose.sh

after_success:
  - codecov

env:
  global:
    - secure: Hk3Wl6Q7C3TCqVb3VcNpr6iedDM9o6LDaqX4z8E6hejWX5lYJlJgfvsKT5t39UT2bfUrnV3tCfeDy2JJHg4qaqePLcYMDm6jT5Ky5CElau4IXlGsaUlWsk+sNZxQJqZo3ojbUGvxpWJJ4Ohg9ILcGrLti6RCZNGJkFxZfdhPL9Ey/zZkP66eYm/Jek1IV4BMCmTEQrEWrVQh4V8sUSTnyFg0eaBvP5lidllb0D1+10b4D6g79N9plQoZcBHK2SBPmUoAjWwswfqndZfP4nA8jxlIOIol9jHCV451cuuRLyL/bOXKjPJ4Y+2kIc0poOHX2pM0sL2A8f7u+IuNn+z46FIoOmO4VJhuSLJCZKoDW3mnvNHSZZKygKL1t6vZMKoKLv/ZPxf2RCtTPC1E0S1Sxor3XU9xzx7vnIjkKprXCiZoYcNvYnejIPG95kNZUKW9LKSTPnt49htLLsN22AgZCxXavr5rS1YYM1qaaqDd/jsMT0wPnD3juCo2fTqe4SyQibt7kxT8JfdEly41gHaplSuVMzH9YKUxYG6jII709dwqD/GgvHnRNimM8g6Q47tTCRp/L0kMqYvFMDcLDJtQzQCm2UVPTn9UGsTq6XyUdj/wz+olvDGkN9mxSKHol94AKZjmlXqUUOr9d5C6IcAj9C/7Cyp/F775J60tsdZUyOM=
    - secure: fkbh052mzzgDi7Bf6m/5kkSlypyLDkTYyNvRJH3O/jjVKB3b4zX1WDXnRL+/8MJEYm240g2JGCu/TdAph5t2+R9I1LmELBIjP/d/uMqKFCjA0TLSmLgxKZUg5c7cT2dFQh5z6pgcJPAgPsFrWITkTXqWmKfreA27icDqQdiFi1FksEAkrfeT3Y+WnkR0XNYzQrWnemS1QWh8wti/vGUO+znLIBw5mP8C3Da1KJiL/Uo6+zb11ddmsCJw3a27EqtfwtcGdUco59av0gVLLNwyc2DQYiOQpCRlf+z44JC0n4buq9H1FuwIpuWRGbqLn0HupfXpt9yfV79y2MfCqibc9MQFeoC50fqzTbyQGtz8cROsQazZ3N3cmEBf00uPmxCJffQedwnn1z9QmrZhFHnJGZc1crYUFOvaAqpmg78BE6xv8j7wg51oqx7eVRjJJY/EGMCQoaSZoH0FGfLyADEp/eKpbIqphxCoyPDaIuLFBEonXMaQqgyAWw94aWmv1lB6V/gGJpnBG6zkczEPup5+1LF6UTrmogVeoGgMd4+g9pWp9OUJQAnAQ/m+PG7LEmmEnHxFFshZ+EOmmFYIgWX9BqXd+ajr7DjO0zrcAF5Zmm1Ja7xVA595l+X3WvHjuNzkyFLEDZrn3mLwGeKxk+4xbVa50dGKCi4NICXOAxbv/bA=
    - secure: VeRd+1WNVHeYJ59fvgmllQskwbtyITrR2v7loUCc6nagoAeSmwZfoe5/7lySIMO6/uzIJfkiaxNbzf3vatYKhDYqFd/V5Swrdu3RUxT7xGgvGpOzaOrhrHi+CPR/1dk58/bgGHmy8q8S0uesId/45LeRELEbcCRiCtlWZFz4UuHFKq0qRJv6LdFZvWFk6F/BcWq7n8fC7SGT+Krn0lf0HR3zX4UyUNPrWKe15l0h+Z05RYcwOLi5cK+sqFx0os5SU44DfYkO2jIsRhqDMJc+ipC/YZfpYxC+V/AT4CieDIcq/JFB2DHx/bnknm8OE62a1IvZJ+hbl6Uv/Khx/QnoGf3wgVZ3guKWju+SnzeZTLU2aTQcyArKmTKVD0me/M95TzjbCLECwwCrNdTGpXuqTOlnLIrjXUvpJ1Q+5EVk+8ULrYbCeYhVqJ/+iYvDUjehmBd+yW59Mgvt0eCc4IeabYpNBgiZ44UCHSt57GfH95xbZQmjkW4k8Lm1uoyRypzD8tcUgi2bkwoiK/jNaNQ562AoxUqIEPnbzw+2EkadULkRr4nianbvAgACaMZsavLBqUpchi4x6vnRaWGUiz71h9FCHS5e8eRV/UFe2AS37CDt4ycuAyumaFfTd0eQdF6w4WomYkRz+U+q7AhkZvsBorQjbGS6jI0LPUuozFi2Yno=
