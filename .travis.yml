language: python
python:
- 3.6
cache: pip
services:
- docker
before_install:
- echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
- echo -e "machine github.com\n  login $GH_USERNAME \npassword $GH_TOKEN" > ~/.netrc
install:
- pip install -U codecov
- pip install -r requirements.txt
script:
- bash tests/test-with-compose.sh
after_success:
- codecov
env:
  global:
  - secure: fkbh052mzzgDi7Bf6m/5kkSlypyLDkTYyNvRJH3O/jjVKB3b4zX1WDXnRL+/8MJEYm240g2JGCu/TdAph5t2+R9I1LmELBIjP/d/uMqKFCjA0TLSmLgxKZUg5c7cT2dFQh5z6pgcJPAgPsFrWITkTXqWmKfreA27icDqQdiFi1FksEAkrfeT3Y+WnkR0XNYzQrWnemS1QWh8wti/vGUO+znLIBw5mP8C3Da1KJiL/Uo6+zb11ddmsCJw3a27EqtfwtcGdUco59av0gVLLNwyc2DQYiOQpCRlf+z44JC0n4buq9H1FuwIpuWRGbqLn0HupfXpt9yfV79y2MfCqibc9MQFeoC50fqzTbyQGtz8cROsQazZ3N3cmEBf00uPmxCJffQedwnn1z9QmrZhFHnJGZc1crYUFOvaAqpmg78BE6xv8j7wg51oqx7eVRjJJY/EGMCQoaSZoH0FGfLyADEp/eKpbIqphxCoyPDaIuLFBEonXMaQqgyAWw94aWmv1lB6V/gGJpnBG6zkczEPup5+1LF6UTrmogVeoGgMd4+g9pWp9OUJQAnAQ/m+PG7LEmmEnHxFFshZ+EOmmFYIgWX9BqXd+ajr7DjO0zrcAF5Zmm1Ja7xVA595l+X3WvHjuNzkyFLEDZrn3mLwGeKxk+4xbVa50dGKCi4NICXOAxbv/bA=
  - secure: hgGml3e2YgUkgM76iQaDkeY5k/rk7+lr1beqYkwmfqn3SmNShrJ5Q3PQpqiRi+FkYVbNgbsWMP49/MzTn6K26S9JBG0cXrnHbvJvKOYyomE/jgumwyMj5zNjqHjeDfozYRWvR6K3DtC9eafaP4NTs/EQu3gsVFWwepFkltJXNsfP3hMao/C1dy/ObxVlMTkr7RsXTYaCmSKs53Vf3TDwoP5hh2hWbgCudKk0C8hJ2znSz+sQ+3HcRklQWaG5qPnBXPGjE/gTTBV2aL9ZjNsHK1B9n4+zskFYvSZt9OAC4LfERHGm6FstEJgof3+HeOuQanxryUsb9ZPtsWv85T5vjVu27PNYmXful7qVD4iWyhsV6G6reU3YZcu/DIAnVsQAyqhdZwCq4KIh3kFJFPiSi/3E7uMBhUont5+aV+FihlK3ENNc8NdjMe0C4SEhMDZ5i470CienAIUGrAdhl4HDmoWTzh0qTuGhGJwoMTOzHAHTO8enTFbFjmSt/B2zHAkYBfI0OBX9bsOu6JUKmMWm86GItdpQfSY8mlR7wa06Gqz0/sE7GoF78tb9wgUv5/yxIOinmhDHlwHFkCr+W98q9UZsWepEMjHPe6el0puegvdc5NYnc7T7+Fu2B66yMCJbmDbcB2Hn6JWKpTk7l/pM3tFco01Go3wsKebdCIj5ASk=
  - secure: dXbqdNJZzG06SsWBHTAXSlqBqKnuyLVaM0Oath9Ni/i5ZbAqCC1I750WZ3pmsQwpjHLSWVPUH7DgQ5MH0frIeaBj5ehrFBJXRmWcYQK2x0S+SIc5kVsJxIZXbLZ7wTsZS5QsrTVe8sRcdJ1XUruIzUH23ZFmBnVSQofXS0VQVEsdL94DEjh6GxGEuJtprqNKkXIAjOA9uFwNqQluJKdJI0GvkZdyTXUYwsFh5b1n9tiq0JeFs74MZet5viW+KRddBnckZBjV7MYzG7Zx4AlPrVmB+ug8+zTyNHKa2rnzehS6tbtIK01LWxK8g76uBP/i4miy/EKdBWYwcZf8RgkLqwmIYkL9NYiDk7rXqYx3q+5JKaGxkDhwjF8OSzuRbmit0/O5HWGSsDYxqXXkDJFkZhJBWBkFYDrK4vuYF+fafRn2Dn3B1Iv6Gj1GWY8LTmTkI0QtlorrEJ4kKyNAlxcnvM1G2xg6ZXOfDsdO/y0Sjl8sTdJad3XJaSttTj4HqdOJnyUzmzCcT6t8QV4Q/6qWVoCs842inYeudFpnmF4wMJADx3zzfJ5zB9VMQg/CPPy4SMaF1BITtCI+yCshbzNUqhUK2y6/Rs6AeRMOoO/FuyPSMV+GqBy2/qKEG7SSerxPYPniVizgY1NoceviWP0CkINHtuYo9TybRvpk6xP3/mE=
  - secure: U5r2nrfZVSijQqHMOgD27u1vK0Ii14mb4bt1QkQh2cnS+4PE2j1qtB4DSEfKnLLdN7HOtb2l0jPSrPHduq5CqASqTLwWb1Xvrjv3mdNKekc6ywSoqMZ7jE8ujFJycLds/bBQ3OMkhxySiEpY4zC63Zz/BM06GXeQdbsqLXYo7mT5STcBpmFkwav8t9aQfk1mJPg+h835Jt32fk564t1D41bDQ0hmRB/sb0y1eCRP2SEz8jMKyP6L/Q4C5d4xN+Krem5Za+C1aqZ7jmNXJBzMd3SvU/1ybJyKPYWr8TwB77VfbUJlaEfaEaWbNO118SuHHX/WOEDln4tpvkM62uPWmGjzXi1ftH2W5+sV7XCrLRr6FGdqfnhEUFrs9iJ0IbcVxaW5NRLp3gUXL3/WR7peo0KbjItDprY5fajo+Ok7lxXBgpG4WzUJ0d6JeYOuSuJUGHlTARVT4IqIU91+YvRJeJTtFY4pZ7H5X75AXI9YKY4nWptgtNsVvn7c6vvj74Sxb0xvbIKe/Ei/0uC/4MhQXvFt8QXroUYyWsMChpq9KwumX2Baddke6JmdcHwhqj7ORq5HsDxs7dM3xw1h1R/CqDk3qgoTbSo/Fp25+26lS819OGylcK1c9hdS5dLfOTmOTtRZicoVVv6asTbqeUzWrK582h3qYtLy2Ggk5BUtkVQ=
